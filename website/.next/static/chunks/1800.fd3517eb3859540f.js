"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1800],{6159:function(e,n,t){t.d(n,{Tm:function(){return s},l$:function(){return a}});var r=t(7294),a=r.isValidElement;function s(e,n){return function(e,n,t){return a(e)?r.cloneElement(e,"function"===typeof t?t(e.props||{}):t):n}(e,e,n)}},7049:function(e,n,t){var r=t(7462),a=t(4942),s=t(7294),o=t(4184),i=t.n(o),c=t(9844),l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};n.Z=function(e){var n,t=s.useContext(c.E_),o=t.getPrefixCls,u=t.direction,p=e.prefixCls,m=e.type,d=void 0===m?"horizontal":m,f=e.orientation,g=void 0===f?"center":f,h=e.orientationMargin,y=e.className,Z=e.children,j=e.dashed,b=e.plain,v=l(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),w=o("divider",p),x=g.length>0?"-".concat(g):g,P=!!Z,O="left"===g&&null!=h,N="right"===g&&null!=h,I=i()(w,"".concat(w,"-").concat(d),(n={},(0,a.Z)(n,"".concat(w,"-with-text"),P),(0,a.Z)(n,"".concat(w,"-with-text").concat(x),P),(0,a.Z)(n,"".concat(w,"-dashed"),!!j),(0,a.Z)(n,"".concat(w,"-plain"),!!b),(0,a.Z)(n,"".concat(w,"-rtl"),"rtl"===u),(0,a.Z)(n,"".concat(w,"-no-default-orientation-margin-left"),O),(0,a.Z)(n,"".concat(w,"-no-default-orientation-margin-right"),N),n),y),E=(0,r.Z)((0,r.Z)({},O&&{marginLeft:h}),N&&{marginRight:h});return s.createElement("div",(0,r.Z)({className:I},v,{role:"separator"}),Z&&s.createElement("span",{className:"".concat(w,"-inner-text"),style:E},Z))}},7468:function(e,n,t){t.r(n);var r=t(5893),a=t(7294),s=t(3798),o=t(6536),i=t(1369),c=t(2688),l=t(7049),u=t(1577),p=t(6896),m=t(5617),d=t(1674),f=t(1874),g=t(9669),h=t.n(g);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,s=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(s.push(r.value),!n||s.length!==n);o=!0);}catch(c){i=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(i)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=j(s.Z.useForm(),1)[0],n=(0,p.Z)(),t=(0,m.v9)((function(e){return e.login})).user,g=(0,a.useState)(Object.entries(t).map((function(e){var n=j(e,2);return{name:n[0],value:n[1]}}))),y=g[0],b=g[1],v=(0,a.useState)([]),w=v[0],x=v[1];(0,a.useEffect)((function(){t.id&&h().get("".concat(d.API_URL,"/customers/").concat(t.id)).then((function(e){var n=e.data;n.password="",x(n),b(Object.entries(n).map((function(e){var n=j(e,2);return{name:n[0],value:n[1]}})))}))}),[t]);var P=(0,r.jsx)(s.Z.Item,{name:"prefix",noStyle:!0,initialValue:"90",children:(0,r.jsx)(i.Z,{onChange:function(e){x(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Z(e,n,t[n])}))}return e}({},w,{prefix:e}))},style:{width:70},children:(0,r.jsx)(i.Z.Option,{value:"90",children:"+90"})})});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:" h-full grid grid-cols-12 gap-0 sm:gap-10 p-0 m-0 w-full my-10 ",children:[(0,r.jsx)("div",{className:" col-span-12 lg:col-span-6 ",children:(0,r.jsxs)(s.Z,{onFinish:function(e){h().post("".concat(d.API_URL,"/customers/").concat(w._id),e).then((function(e){"error"==e.data.variant?o.ZP.error(n.messages["app.pages.customers.notUpdated"]+e.data.messagge):o.ZP.success(n.messages["app.pages.customers.updated"])})).catch((function(e){return console.log(e)}))},layout:"vertical",form:e,fields:y,className:"w-full",children:[(0,r.jsx)(s.Z.Item,{name:"username",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:n.messages["app.pages.common.inputNotValid"]}],children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(s.Z.Item,{name:"name",label:n.messages["app.pages.customers.name"],rules:[{required:!0,message:n.messages["app.pages.common.pleaseFill"],whitespace:!0}],children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(s.Z.Item,{name:"surname",label:n.messages["app.pages.customers.surname"],rules:[{required:!0,message:n.messages["app.pages.common.pleaseFill"],whitespace:!0}],children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(s.Z.Item,{name:"phone",label:n.messages["app.pages.customers.phone"],rules:[{required:!0,message:n.messages["app.pages.common.pleaseFill"]}],children:(0,r.jsx)(c.Z,{addonBefore:P})}),(0,r.jsx)(l.Z,{}),(0,r.jsx)(s.Z.Item,{children:(0,r.jsx)(u.Z,{type:"primary",className:"w-full",htmlType:"submit",children:"Update"})})]})}),(0,r.jsx)("div",{className:" col-span-12 lg:col-span-6 ",children:(0,r.jsxs)(s.Z,{onFinish:function(e){f.Z.login({username:w.username,password:e.currentpassword}).then((function(t){t.isAuthenticated?h().post("".concat(d.API_URL,"/staff/updatePasswordCustomer"),{_id:w._id,password:e.password}).then((function(e){"success"==e.data.variant?o.ZP.success(n.messages["app.pages.customers.passwordUpdated"]):o.ZP.error(n.messages["app.pages.customers.passwordNotUpdated"]+e.data.messagge)})).catch((function(e){return console.log(e)})):o.ZP.error("Your current password does not match")}))},layout:"vertical",children:[(0,r.jsx)(s.Z.Item,{name:"currentpassword",label:n.messages["app.pages.common.curretPassword"],rules:[{required:!0,message:n.messages["app.pages.common.inputNotValid"]}],hasFeedback:!0,children:(0,r.jsx)(c.Z.Password,{})}),(0,r.jsx)(s.Z.Item,{name:"password",label:n.messages["app.pages.common.password"],rules:[{required:!0,message:n.messages["app.pages.common.inputNotValid"]}],hasFeedback:!0,children:(0,r.jsx)(c.Z.Password,{})}),(0,r.jsx)(s.Z.Item,{name:"confirm",label:n.messages["app.pages.common.confirmPassword"],dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:n.messages["app.pages.common.inputNotValid"]},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(n.messages["app.pages.common.passwordNotMatch"]):Promise.resolve()}}}],children:(0,r.jsx)(c.Z.Password,{})}),(0,r.jsx)(l.Z,{}),(0,r.jsx)(s.Z.Item,{children:(0,r.jsx)(u.Z,{type:"primary",className:"w-full",htmlType:"submit",children:"Update Password"})})]})})]})})}},6896:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(7294),a=t(4806),s=t(680);function o(){var e=r.useContext(a._y);return(0,s.lq)(e),e}}}]);