(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6282],{6928:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/basket/paymentokey",function(){return r(1598)}])},1598:function(e,n,r){"use strict";r.r(n);var t=r(4051),s=r.n(t),i=r(5893),c=r(7294),a=r(5617),d=r(1163),l=r.n(d),o=r(1664),u=r.n(o),m=r(9669),h=r.n(m),f=r(1674),b=r(5152),x=r.n(b);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function j(e,n,r,t,s,i,c){try{var a=e[i](c),d=a.value}catch(l){return void r(l)}a.done?n(d):Promise.resolve(d).then(t,s)}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return p(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=x()((function(){return r.e(456).then(r.bind(r,9451))}),{loadableGenerated:{webpack:function(){return[9451]}}}),y=x()((function(){return r.e(313).then(r.bind(r,313))}),{loadableGenerated:{webpack:function(){return[313]}}});n.default=function(){var e=(0,a.v9)((function(e){return e.basket})).basket,n=(0,a.v9)((function(e){return e.login})).isAuthenticated,r=(0,c.useState)(""),t=r[0],d=r[1],o=l().query.payment_intent,m=l().query.ordernumber,b=function(){var e,n=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().get("".concat(f.API_URL,"/payment/stripeconfirm/").concat(o,"/").concat(m)).then((function(e){d.apply(void 0,v(e.data))}));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,s){var i=e.apply(n,r);function c(e){j(i,t,s,c,a,"next",e)}function a(e){j(i,t,s,c,a,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,c.useEffect)((function(){b()}),[e[0],n]);var x=function(e){var n=[];for(var r in e)n.push((0,i.jsxs)("div",{className:"text-xs ",children:[" ",r,": ",e[r]," "]}));return n.length>0?(0,i.jsxs)(i.Fragment,{children:[" ",n]}):(0,i.jsx)(i.Fragment,{children:" "})};return(0,i.jsxs)("div",{className:"container-custom h-full grid grid-cols-12 ",children:[(0,i.jsx)(N,{title:"Payments Succeeded"}),(0,i.jsx)("div",{className:"col-span-12 shadow-lg my-5",children:(0,i.jsx)("div",{className:"grid grid-cols-12 p-2 sm:p-10 bg-white",children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-4xl col-span-12 text-brand-color font-semibold text-center mb-10",children:"Payment Succeeded"}),(0,i.jsxs)("div",{className:"text-2xl col-span-12 font-semibold text-center mb-10",children:["Order Number:",t.ordernumber," "]}),(0,i.jsxs)("div",{className:"col-span-6",children:[(0,i.jsx)("div",{className:"font-bold",children:"Receiver"}),(0,i.jsx)("div",{children:t.receiver_name}),(0,i.jsx)("div",{children:t.receiver_email}),(0,i.jsx)("div",{children:t.receiver_phone}),(0,i.jsx)("div",{className:"font-bold mt-5",children:"Shipping Address"}),(0,i.jsx)("div",{children:t.shipping_address}),(0,i.jsx)("div",{className:"font-bold mt-5",children:"Billing Address"}),(0,i.jsx)("div",{children:t.billing_address})]}),(0,i.jsxs)("div",{className:"col-span-12 sm:col-span-6 mt-10 sm:mt-0 ",children:[(0,i.jsx)("div",{className:"font-bold",children:"Products"}),(0,i.jsxs)("table",{className:"w-full ",children:[(0,i.jsxs)("tr",{className:"bg-gray-50",children:[(0,i.jsx)("td",{className:"font-semibold",children:"Title"}),(0,i.jsx)("td",{className:"font-semibold hidden sm:block",children:"Variant"}),(0,i.jsx)("td",{className:"font-semibold",children:"Qty"}),(0,i.jsx)("td",{className:"font-semibold",children:" Price"})]}),t.products&&t.products.map((function(e,n){return(0,i.jsxs)("tr",{className:"h-16 border-b ",children:[(0,i.jsxs)("td",{className:"border-b font-semibold",children:[(0,i.jsx)(u(),{href:"/"+e.seo,children:e.title}),(0,i.jsx)("span",{className:"block sm:hidden mt-3",children:x(e.selectedVariants)})]}),(0,i.jsx)("td",{className:"hidden sm:block pt-3",children:x(e.selectedVariants)}),(0,i.jsx)("td",{children:e.qty}),(0,i.jsx)("td",{children:(0,i.jsx)(y,{data:e.price*e.qty})})]},n)})),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"hidden sm:block",children:" "}),(0,i.jsx)("td",{className:"hidden sm:block",children:" "}),(0,i.jsxs)("td",{className:"font-semibold",children:[(0,i.jsx)("br",{}),"Cargo Price:",(0,i.jsx)("br",{}),"Total Price:"]}),(0,i.jsxs)("td",{className:"font-bold",children:[(0,i.jsx)("br",{}),(0,i.jsx)(y,{data:t.cargo_price}),(0,i.jsx)("br",{}),(0,i.jsx)(y,{data:Number(t.total_price)+Number(t.cargo_price)})]})]})]})]})]}):""})})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return n=6928,e(e.s=n);var n}));var n=e.O();_N_E=n}]);